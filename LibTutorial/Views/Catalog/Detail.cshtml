@model Application.Catalogs.Models.ProductDetailViewDto
@{
    ViewBag.Title = @Model.ProductViewModel.Title;
}
<div class="container">
    <div class="header clearfix detailHeading">
        <h2 class="text-muted">View Library Item</h2>
    </div>
    <div class="jumbotron" 
         style="
            padding-top: 10px;
            padding-left: 10px;
            padding-bottom: 10px;
            padding-right: 10px;
        ">
        <div class="row">
            <div class="col-md-4">
                <div id="carouselExampleControls" class="carousel slide" data-ride="carousel"  style="width:100%; height:500px !important;">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="~/images/@Model.ProductViewModel.ImgUrls[0]" class="d-block w-100" alt="...">
                        </div>
                        @foreach (var img in @Model.ProductViewModel.ImgUrls) {
                            <div class="carousel-item">
                                <img src="~/images/@img" class="d-block w-100" alt="...">
                            </div>
                        }
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
            <div class="col-md-4">
                <p id="itemTitle">@Model.ProductViewModel.Title</p>
                @*<p id="itemAuthor">@Model.ProductViewModel.AuthorOrDirector</p>*@
                @*<p id="itemStatus">@Model.BookViewModel.Status</p>*@
                <p id="itemType">@Model.ProductViewModel.Type</p>
                @*<p id="itemLocation">Last Location: @Model.BookViewModel.</p>*@
                @*@if (Model.BookViewModel.Status == "Checked Out") {
                        <p id="itemPatron">Checked Out By: @Model.CheckOutViewModelHistoris.First().PatronName</p>
                    }
                    @if (Model.BookViewModel.Status != "Lost") {
                        @if (Model.BookViewModel.Status == "Available") {
                            <p><a class="btn btn-lg btn-info" role="button" asp-controller="Catalog" asp-action="Checkout" asp-route-id="@Model.BookViewModel.Id">Check Out</a></p>
                        }

                        @if (Model.BookViewModel.Status == "Checked Out") {
                            <p><a class="btn btn-lg btn-success" role="button" asp-controller="Catalog" asp-action="CheckIn" asp-route-id="@Model.BookViewModel.Id">Check In</a></p>
                            <p><a class="btn btn-lg btn-warning" role="button" asp-controller="Catalog" asp-action="Hold" asp-route-id="@Model.BookViewModel.Id">Place Hold</a></p>
                        }

                        <p><a class="btn btn-lg btn-danger" role="button" asp-controller="Catalog" asp-action="MarkLost" asp-route-id="@Model.BookViewModel.Id">Mark Item Lost</a></p>
                    }*@

                @*else {
                    <p>This item has been lost. It cannot be checked out.</p>
                    <p><a class="btn btn-lg btn-success" role="button" asp-controller="Catalog" asp-action="MarkFound" asp-route-id="@Model.BookViewModel.Id">Mark Item Found</a></p>
                    }*@
            </div>
            <div class="col-md-4 detailInfo">
                <table>
                    @*<tr>
                            <td class="itemLabel">ISBN: </td>
                            <td class="itemValue">@Model.BookViewModel.Isbn</td>
                        </tr>
                        <tr>
                            <td class="itemLabel">Call Number: </td>
                            <td class="itemValue">@Model.BookViewModel.Dewey</td>
                        </tr>*@
                    <tr>
                        <td class="itemLabel">Replacement Cost: </td>
                        <td class="itemValue">$@Model.ProductViewModel.Cost</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <h4>Checkout History</h4>
            <table class="table table-bordered table-hover table-condensed">
                <thead>
                    <tr>
                        <th>Date Loaned</th>
                        <th>Date Returned</th>
                        <th>Card Id</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var checkout in @Model.CheckOutViewModelHistoris) {
                        <tr>
                            <td>
                                @checkout.From
                            </td>
                            <td>
                                @checkout.To
                            </td>
                            <td>
                                @checkout.PatronName
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        @*<div class="col-lg-6">
                <h4>Current Holds location</h4>
                <table class="table table-bordered table-hover table-condensed">
                    <thead>
                        <tr>
                            <th>Hold Placed</th>
                            <th>Patron</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var hold in @Model.CurrentHolds) {
                            <tr>
                                <td>
                                    @hold.HoldPlaced
                                </td>
                                <td>
                                    @hold.PatronName
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>*@
    </div>
</div>
